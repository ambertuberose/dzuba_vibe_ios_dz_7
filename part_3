// import UIKit

class Car {
  var driver: Man?

  deinit{ // выведем в консоль сообщение о том, что объект удален
    print("машина удалена из памяти")
  }
}

  class Man {
    weak var myCar: Car? // Делаем ссылку слабой

  deinit{ // выведем в консоль сообщение о том, что объект удален
    print("мужчина удален из памяти")
  }
}

// объявим переменные как опциональные, чтобы иметь возможность присвоить им nil
var car: Car? = Car() 
var man: Man? = Man()

// машина теперь имеет ссылку на мужчину
car?.driver = man

// a мужчина на машину
man?.myCar = car

// присвоим nil переменным, удалим эти ссылки
car = nil
man = nil

/* сделали ссылку myCar объекта Man слабой. Это позволит объекту Car 
быть деинициализированным после того, как на него больше не будет 
сильных ссылок, и, следовательно, освободить связанный с ним объект Man 
и освободить память.*/
